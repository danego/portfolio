{"ast":null,"code":"import { NavigationEnd } from '@angular/router';\nimport { navigateAnimations } from './navigateAnimations';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"./display-bg-gradient.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"./hover-photo/hover-photo.component\";\nimport * as i5 from \"./navigate-mobile/navigate-mobile.component\";\nfunction AppComponent_app_navigate_mobile_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-navigate-mobile\");\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    \"nav-link-current\": a0\n  };\n};\nfunction AppComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"a\", 6);\n    i0.ɵɵtext(2, \" HOME \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"a\", 7);\n    i0.ɵɵtext(4, \" ABOUT \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"a\", 8);\n    i0.ɵɵtext(6, \" PROJECTS \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(3, _c0, ctx_r1.onHome));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(5, _c0, ctx_r1.onAbout));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(7, _c0, ctx_r1.onProjects));\n  }\n}\nconst _c1 = function (a0) {\n  return {\n    \"gradient-bg\": a0\n  };\n};\nexport let AppComponent = /*#__PURE__*/(() => {\n  class AppComponent {\n    constructor(router, displayBgGradientService) {\n      this.router = router;\n      this.displayBgGradientService = displayBgGradientService;\n      this.title = 'portfolio';\n      this.displayMobileNav = false;\n      this.displayGradient = false;\n      this.displayGradientLockEngaged = false;\n    }\n    checkWindowSizeForNav() {\n      if (window.innerWidth < 640) this.displayMobileNav = true;else this.displayMobileNav = false;\n    }\n    //used this way instead of repeating nav-link code on each page \n    ngOnInit() {\n      this.route = this.router.events.subscribe(event => {\n        if (event instanceof NavigationEnd) {\n          this.resetPageValuesToFalse();\n          switch (event.url) {\n            case '/':\n              this.onHome = true;\n              break;\n            case '/about':\n              this.onAbout = true;\n              break;\n            case '/projects':\n              this.onProjects = true;\n              break;\n          }\n          //exit out of popupNavigation if on mobile\n          this.checkWindowSizeForNav();\n          //load background gradient\n          this.checkToDisplayGradient();\n          //subscribe to service to disable bg gradient during route changes\n          this.displayGradientSub = this.displayBgGradientService.removeBgGradient.subscribe(currentlyDisabled => {\n            this.displayGradient = currentlyDisabled;\n            this.displayGradientLockEngaged = true;\n            window.setTimeout(() => {\n              this.displayGradientLockEngaged = false;\n              this.checkToDisplayGradient();\n            }, 407); //page slide animation duration = 400ms\n          });\n        }\n      });\n    }\n\n    resetPageValuesToFalse() {\n      this.onHome = false;\n      this.onAbout = false;\n      this.onProjects = false;\n    }\n    prepareRoute(outlet) {\n      return outlet && outlet.activatedRouteData && outlet.activatedRouteData.animation;\n    }\n    checkToDisplayGradient() {\n      if (this.onHome || this.displayGradientLockEngaged) this.displayGradient = false;else this.displayGradient = true;\n      //window.setTimeout(() => {\n      //}, 300);\n    }\n\n    ngOnDestroy() {\n      this.route.unsubscribe();\n      if (this.displayGradientSub) this.displayGradientSub.unsubscribe();\n    }\n  }\n  AppComponent.ɵfac = function AppComponent_Factory(t) {\n    return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.DisplayBgGradientService));\n  };\n  AppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AppComponent,\n    selectors: [[\"app-root\"]],\n    hostBindings: function AppComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"resize\", function AppComponent_resize_HostBindingHandler() {\n          return ctx.checkWindowSizeForNav();\n        }, false, i0.ɵɵresolveWindow);\n      }\n    },\n    decls: 9,\n    vars: 7,\n    consts: [[\"id\", \"content\", 1, \"h-full\", \"min-h-screen\", 3, \"ngClass\"], [1, \"h-24\", \"p-6\", \"rounded-md\", \"bg-teal-200\", \"text-16\", \"text-white\", \"sticky\", \"top-0\", \"z-20\", \"flex-grow-0\", \"flex\", \"justify-between\", \"items-center\"], [4, \"ngIf\"], [1, \"flex\", \"items-center\"], [3, \"onHomePage\"], [\"outlet\", \"outlet\"], [\"routerLink\", \"/\", 1, \"nav-link\", 3, \"ngClass\"], [\"routerLink\", \"/about\", 1, \"nav-link\", 3, \"ngClass\"], [\"routerLink\", \"/projects\", 1, \"nav-link\", 3, \"ngClass\"]],\n    template: function AppComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"html\", 0)(1, \"nav\", 1);\n        i0.ɵɵtemplate(2, AppComponent_app_navigate_mobile_2_Template, 1, 0, \"app-navigate-mobile\", 2);\n        i0.ɵɵtemplate(3, AppComponent_div_3_Template, 7, 9, \"div\", 2);\n        i0.ɵɵelementStart(4, \"div\", 3);\n        i0.ɵɵelement(5, \"app-hover-photo\", 4);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(6, \"div\");\n        i0.ɵɵelement(7, \"router-outlet\", null, 5);\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        const _r2 = i0.ɵɵreference(8);\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(5, _c1, ctx.displayGradient));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.displayMobileNav);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.displayMobileNav);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"onHomePage\", ctx.onHome);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"@routeAnimations\", ctx.prepareRoute(_r2));\n      }\n    },\n    dependencies: [i3.NgClass, i3.NgIf, i1.RouterOutlet, i1.RouterLink, i4.HoverPhotoComponent, i5.NavigateMobileComponent],\n    data: {\n      animation: [navigateAnimations]\n    }\n  });\n  return AppComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}